#### HW10 - Spring-Logging

##### 1. 

##### 1, Is System.out.print  thread safe? Write code using thread pool and multi-thread to answer this question.

```
System.out.println() is thread-safe, but this doesn't guarantee that the output from multiple threads will always appear in a predictable order.

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class SystemOutThreadSafetyTest {
    public static void main(String[] args) {
        ExecutorService executor = Executors.newFixedThreadPool(5);
        
        for (int i = 0; i < 10; i++) {
            final int taskId = i;
            executor.submit(() -> {
                for (int j = 0; j < 5; j++) {
                    System.out.println("Task " + taskId + ": Line " + j);
                }
            });
        }
        
        executor.shutdown();
    }
}

Each individual line is printed atomically (not interleaved with other lines).
The order of lines from different tasks may be mixed.
The thread safety ensures that the content of each println() call is not interleaved with others, 
but it doesn't synchronize the order of execution between different threads.
```

##### 2. Why do we NOT use System.out.print  for logging in Spring? Why do we use loggers such as Log4j?

```
It lacks flexibility, performance optimizations, and key features that are required for managing logs in large-scale applications. 
System.out.print only outputs to the console, while loggers offer multiple output options through appenders
Loggers provide different severity levels
System.out.print can negatively affect application performance.
Log levels in logging frameworks can be adjusted at runtime, but System.out.print can't.
Loggers automatically include useful metadata like timestamps, thread information, and class names.
It is difficult in monitoring.
Logging frameworks promote cleaner, more maintainable code.
Using logging frameworks like Log4j offers significant advantages over System.out.print in terms of flexibility, maintainability, performance, and integration with other tools. 
```

##### 3. If System.out.print  is thread-safe, is there any other reason why we dislike it?

```
Performance impact: 
	System.out.print can significantly slow down application performance, especially in multi-threaded environments, due to synchronization overhead1.
	
Limited flexibility: 
	Unlike logging frameworks, System.out.print only outputs to the console, limiting output options1.
	
Lack of log levels: 
	System.out.print doesn't provide different severity levels for messages, making it difficult to filter and manage log output1.
	
No runtime configuration: 
	Unlike logging frameworks, System.out.print cannot be easily configured or adjusted at runtime1.
	
Insufficient metadata: 
	System.out.print doesn't automatically include useful information like timestamps or class names in log messages1.
	
Code maintainability: 
	Using System.out.print throughout the code can make it less maintainable and harder to debug1.
	
IO operations: 
	System.out.print involves synchronous IO operations, which can lead to performance degradation, especially when output is redirected to a file1.
```

##### 4. Explain slf4j logging levels, and what is included in slf4j logs.

```
SLF4J (Simple Logging Facade for Java) supports five logging levels:

ERROR: For critical errors that cause the application to malfunction or crash.
WARN: For potentially harmful situations or unexpected events.
INFO: For general information about application progress and milestones.
DEBUG: For detailed information useful during development and troubleshooting.
TRACE: For the most fine-grained diagnostic information.
```

```
SLF4J logs typically include:
Timestamp: The date and time when the log event occurred.
Log level: The severity level of the log event.
Logger name: Usually the name of the class generating the log.
Message: The actual log message, which can include parameterized content.
Thread name: The name of the thread that generated the log event.
```

##### 5. Write a Spring boot Rest application (using Spring Web starter on ) from Scratch, prove it is a multi- threaded application by nature (without explicit configuration) according to logs.

```
see coding/hw10/LogDemo
```

##### 6. For your application in 5, make packaging type to war , deploy it to an external  tomcat server, document how to deploy it, upload screenshot of each steps.

```
1, Change packaging to WAR: In your pom.xml file
<packaging>war</packaging>

<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-tomcat</artifactId>
    <scope>provided</scope>
</dependency>

2, Modify the main application class to extend SpringBootServletInitializer:
extends SpringBootServletInitializer

3, Build the WAR file:
Run 'mvn clean package' to generate the WAR file.

4, Copy the generated WAR file to Tomcat's webapps directory.
Start Tomcat server.
Visit http://localhost:8080/logdemo
```

##### 7. For your application in 5, write a global exception handler to render java exceptions to corresponding http statuses, explain your code with comments.

```
see coding/hw10/LogDemo/
```

#####  8. demo spring actuator, which is a built-in module of your application.

```
see coding/hw10/LogDemo/
These links output some results:
```

```
http://localhost:8080/actuator/health

{
    "status": "UP"
}	

http://localhost:8080/actuator/metrics

http://localhost:8080/actuator/info
{
    "app": {
        "name": "Log Demo Application",
        "version": "1.0.0"
    }
}
```