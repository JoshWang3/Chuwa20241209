# HW16
____
### 2. Explain monolithic architecture, service oriented artitecture, and microservices architecture.
- Monolithic Architecture: a traditional software development approach where an entire app is 
built as a single, unified unit.
- Service-Oriented Architecture: an architectural pattern in which application components provide services to other components via a communications protocol, typically over a network.
- Microservices Architecture: an architectural style that structures an application as a collection of small, autonomous services, modeled around a business domain. This is 
an evolution of the SOA approach, focusing on smaller, more independent services that can be developed, deployed, and scaled independently.

### 3. Document the microservice architecture and core components
- Service Components: individual services that encapsulate specific business functions or capabilities.
- API Gateway: a single entry point for clients to access multiple services, providing routing, load balancing, and security features.
- Service Discovery: a mechanism for services to register themselves and discover other services in the network.
- Load Balancer: distributes incoming network traffic across multiple service instances to ensure optimal resource utilization and performance.
- Configuration Management: centralizes configuration settings for services, allowing for easy management and updates.
- Resilience and Fault Tolerance: Circuit breakers prevent cascading failures.
- Security: ensures secure communication between services and clients, often using authentication and authorization mechanisms.
- Monitoring and Logging: tracks service performance, logs events, and provides insights into the health of the system.

### 4. Explain Resilience patterns? Explain circuit breaker with Spring Cloud Hystrix code example.
Resilience patterns are design strategies used in distributed systems to ensure robustness and fault tolerance.  
Circuit Breaker pattern: prevents repeated calls to a failing service and allows recovery.  
```java

@RestController
@RequestMapping("/api")
public class HystrixController {

    private final RestTemplate restTemplate = new RestTemplate();

    /**
     * 调用远程服务，并使用 Hystrix 进行熔断保护
     */
    @HystrixCommand(fallbackMethod = "fallbackResponse")
    @GetMapping("/external-data")
    public String callExternalService() {
        String url = "http://unreliable-service/api/data"; // 远程服务 URL
        return restTemplate.getForObject(url, String.class);
    }

    /**
     * 熔断触发时执行的 fallback 方法
     */
    public String fallbackResponse() {
        return "Fallback: 远程服务不可用，请稍后重试！";
    }
}
```

### 5. Explain load balancing algorithms
Load balancing is the process of distributing network or application traffic across multiple servers to ensure no single server is overwhelmed, improving performance, availability, and reliability.  
Common algorithms include:
- Round Robin: distributes requests evenly across servers in a circular order.
- Least Connections: routes requests to the server with the fewest active connections.
- IP Hash: uses the client's IP address to determine which server to send the request to.
- Weighted Round Robin: assigns weights to servers based on their capacity, distributing requests accordingly.
- Random: randomly selects a server to handle each request.

### 6. Explain API Gateway
An API Gateway is a server that acts as an entry point for client requests, handling authentication, routing, load balancing, rate limiting, and security in microservices architectures.

### 7. Explain service discovery and service registry
Service Discovery and Service Registry help services locate and connect with each other without hardcoding service locations, making the system scalable and resilient. 
We usually use tools like Eureka, Consul, or Zookeeper for service discovery and registry.

### 8. List Spring Cloud Modules that serve as Microservice components
- Service Discovery:
    - Spring Cloud Netflix Eureka
    - Spring Cloud Consul
    - Spring Cloud Zookeeper
- API Gateway:
    - Spring Cloud Gateway
    - Spring Cloud Netflix Zuul
- Load Balancing:
    - Spring Cloud LoadBalancer
- Resilience and Fault Tolerance:
    - Spring Cloud Circuit Breaker (Hystrix)
    - Spring Cloud Resilience4j
- Configuration Management:
    - Spring Cloud Config

